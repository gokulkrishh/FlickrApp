<!doctype html>
<html ng-app="FlickrApp">
	<head>
		<title>Flickr Application</title>
		<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
		<link rel="stylesheet" type="text/css" href="css/style.css">
	</head>
<body>
	<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
		<div class="container">
			<div class="navbar-header">
				<a href="/" class="navbar-brand">Flick App</a>
			</div>
		<ul class="nav navbar-nav navbar-left">
			<li><a href="/">Home</a></li>
			<li><a href="/about">About App</a></li>
		</ul> 
	</nav>

	<div class="main-container container" ng-controller="myController">
		<div class="box" ng-repeat="i in data.items" style="background:url('{{i.media.m}}')">
			<span class="author">
				Author name: {{i.author.replace("nobody@flickr.com (","").replace(")","")}}
				<br>
				<br>
				<a class="btn btn-sm btn-primary" href="{{i.link}}">View My Photos</a>
			</span>
		</div>
	</div>
	<div id="footer">
		<div class="container">
			<p>Site Designed and Developed by gokulkrishh</p>
		</div>
	</div>
	<script type="text/javascript" src="scripts/jquery-2.0.2.min.js"></script>
	<script type="text/javascript" src="scripts/bootstrap.min.js"></script>
	<script src="scripts/angular.js"></script>
  	<script src="scripts/angular-route.js"></script>
  	<script type="text/javascript">
  		var FlickrApp = angular.module('FlickrApp',[]); //created a module called FlickrApp
  		FlickrApp.controller('myController',publicFeed); // adding controller as myController 
  		function publicFeed($scope) {
  			// making an ajax call to flickr public feed
  			$.ajax({
  				url:'http://api.flickr.com/services/feeds/photos_public.gne?format=json',
  				type:'GET',
  				dataType:'jsonp',
  				crossDomain:true,
  				jsonpCallback:'jsonFlickrFeed',
  				success:function(data){ 
  				//$apply is used to exe expression outside angular framework 
  					$scope.$apply(function(){
  						//storing the json formatted callback to $scope variable
  						$scope.data = data; 
  						console.log(data);
  					});
  				},
  				error:function(err){
  					$scope.$apply(function(){
  						$scope.data = err;
  						//console.log(err);
  					});
  				}
  			});
  		}
  	</script>
</body>
</html>
